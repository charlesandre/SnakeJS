<html>
<canvas id="Board" height=500 width=500 style="border: 1px solid black"></canvas>
<p id="Score"></p>
<script>
    var canvas = document.getElementById("Board");
    var ctx = canvas.getContext("2d");
    var head = [canvas.width / 2, canvas.height / 2]
    var speedX = 0; var speedY = 0;
    var tempX, tempY
    var change = 0;
    var snake = [head]
    var score = 0
    apple = getApple()
    console.log(apple)
    ctx.rect(snake[0][0], snake[0][1], 10, 10);
    setInterval(function () { interval() }, 100);

    function interval() {

        eatApple()  
        updateScore()
        snake = update(snake, speedX, speedY)
        if (change == 1) {
            apple = getApple()
            change = 0
        }
        outOfBound()
        draw(snake, apple)
        document.onkeydown = keyInput;
    }

    function updateScore(){
        document.getElementById("Score").innerHTML = score
    }

    function eatApple() {
        if (snake[0][0] == apple[0] && snake[0][1] == apple[1]) {
            change = 1
            score +=1
        }
    }

    function getApple() {
        var x = (Math.floor((Math.random() * canvas.width / 10))) * 10;
        var y = (Math.floor((Math.random() * canvas.height / 10))) * 10;
        return [x, y]
    }

    function update(snake, speedX, speedY) {
        newSnake = []
        newSnake.push([snake[0][0] + speedX * 10, snake[0][1] + speedY * 10])
        for (var i = 0; i < snake.length - 1; i++) {
            newSnake.push(snake[i])
        }
        if (change == 1) {
            newSnake.push(snake[snake.length - 1])
        }
        return newSnake;
    }

    function outOfBound(){
        if(snake[0][0] == -10){
            snake[0][0] = canvas.width;
        }
        if(snake[0][0] == canvas.width+10){
            snake[0][0] = 0;
        }
        if(snake[0][1] == -10){
            snake[0][1] = canvas.height;
        }
        if(snake[0][1] == canvas.height+10){
            snake[0][1] = 0;
        }
    }

    function keyInput(e) {
        speedX = 0
        speedY = 0
        if (e.keyCode == '38') {
            speedY = -1;
        }
        else if (e.keyCode == '40') {
            speedY = 1;
        }
        else if (e.keyCode == '37') {
            speedX = -1;
        }
        else if (e.keyCode == '39') {
            speedX = 1;
        }
    }
    function draw(snake, apple) {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.beginPath()
        for (var i = 0; i < snake.length; i++) {
            ctx.rect(snake[i][0], snake[i][1], 10, 10);
        }

        ctx.rect(apple[0], apple[1], 10, 10);
        ctx.stroke();
    }
</script>

</html>